
@{
    ViewData["Title"] = "Default";
    Layout = "~/Views/Shared/_LayoutViewComponent.cshtml";
}

<div class="col-lg-3 col-md-6">
    <h4 class="section-title ff-secondary text-start text-primary fw-normal mb-4">Haber Bülteni</h4>
    <p>Haber bültenimize kaydolarak en iyi fırsatlardan hemen haberdar ol</p>
    <div class="position-relative mx-auto" style="max-width: 400px;">
        <form id="subscribeForm" method="post">
            @Html.AntiForgeryToken()
            <input id="emailInput" class="form-control border-primary w-100 py-3 ps-4 pe-5" type="email" placeholder="Mail Adresiniz" required>
           
            <button id="btnSignUp" type="submit" class="btn btn-primary py-2 position-absolute top-0 end-0 mt-2 me-2">Kaydol</button>
        </form>
    </div>
</div>

@section Scripts
{
    <script>
        $("#btnSignUp").click(function (event) {
            event.preventDefault(); 

            let sub = {
                Email: $("#emailInput").val()
            };

            $.ajax({
                type: "POST",
                url: "/Footer/Index/",
                data: JSON.stringify(sub), 
                contentType: "application/json; charset=utf-8", // 
                dataType: "text", 
                success: function (response) {
                    alert("Başarıyla kaydedildi!");
                },
                error: function (xhr, status, error) {
                    console.error("Hata:", xhr.responseText);
                    alert("Bir hata oluştu, lütfen email kısmını boş bıraktıysanız bir email girişi sağlayarak tekrar deneyin.");
                }
            });
        });


    </script>
}

